(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();const Nt=()=>{const e=document.createElement("section");e.classList.add("guess-box","hidden");const t=document.createElement("h2");t.classList.add("guess-title"),t.textContent="Make a guess",e.appendChild(t);const n=document.createElement("div");n.classList.add("guess-wrapper"),e.appendChild(n);const s=document.createElement("article");s.classList.add("guess-characters"),n.appendChild(s);const o=document.createElement("h3");o.textContent="Who?",s.appendChild(o);const c=document.createElement("button");c.classList.add("guess-name-btn"),c.textContent="Miss Scarlett",s.appendChild(c);const l=document.createElement("button");l.classList.add("guess-name-btn"),l.textContent="Mr. Green",s.appendChild(l);const p=document.createElement("button");p.classList.add("guess-name-btn"),p.textContent="Colonel Mustard",s.appendChild(p);const E=document.createElement("button");E.classList.add("guess-name-btn"),E.textContent="Professor Plum",s.appendChild(E);const se=document.createElement("button");se.classList.add("guess-name-btn"),se.textContent="Mrs. Peacock",s.appendChild(se);const oe=document.createElement("button");oe.classList.add("guess-name-btn"),oe.textContent="Mrs. White",s.appendChild(oe);const h=document.createElement("article");h.classList.add("guess-weapons"),n.appendChild(h);const ie=document.createElement("h3");ie.textContent="Which weapon?",h.appendChild(ie);const ce=document.createElement("button");ce.classList.add("guess-weapon-btn"),ce.textContent="Candlestick",h.appendChild(ce);const x=document.createElement("button");x.classList.add("guess-weapon-btn"),x.textContent="Knife",h.appendChild(x);const w=document.createElement("button");w.classList.add("guess-weapon-btn"),w.textContent="Lead Pipe",h.appendChild(w);const k=document.createElement("button");k.classList.add("guess-weapon-btn"),k.textContent="Revolver",h.appendChild(k);const j=document.createElement("button");j.classList.add("guess-weapon-btn"),j.textContent="Rope",h.appendChild(j);const z=document.createElement("button");z.classList.add("guess-weapon-btn"),z.textContent="Wrench",h.appendChild(z);const r=document.createElement("article");r.classList.add("guess-rooms"),n.appendChild(r);const ct=document.createElement("h3");ct.textContent="Which room?",r.appendChild(ct);const me=document.createElement("button");me.classList.add("guess-room-btn"),me.textContent="Kitchen",r.appendChild(me);const pe=document.createElement("button");pe.classList.add("guess-room-btn"),pe.textContent="Ballroom",r.appendChild(pe);const he=document.createElement("button");he.classList.add("guess-room-btn"),he.textContent="Conservatory",r.appendChild(he);const be=document.createElement("button");be.classList.add("guess-room-btn"),be.textContent="Dining Room",r.appendChild(be);const Ce=document.createElement("button");Ce.classList.add("guess-room-btn"),Ce.textContent="Billiard Room",r.appendChild(Ce);const ge=document.createElement("button");ge.classList.add("guess-room-btn"),ge.textContent="Library",r.appendChild(ge);const Le=document.createElement("button");Le.classList.add("guess-room-btn"),Le.textContent="Lounge",r.appendChild(Le);const fe=document.createElement("button");fe.classList.add("guess-room-btn"),fe.textContent="Hall",r.appendChild(fe);const ye=document.createElement("button");ye.classList.add("guess-room-btn"),ye.textContent="Study",r.appendChild(ye);const ae=document.createElement("button");ae.classList.add("submit-guess-btn"),ae.setAttribute("disabled","true"),ae.textContent="Submit guess",e.appendChild(ae),document.body.appendChild(e);const J=document.createElement("section");J.classList.add("accuse-box","hidden");const Ee=document.createElement("h2");Ee.classList.add("accuse-title"),Ee.textContent="Make an accusation!",J.appendChild(Ee);const Q=document.createElement("div");Q.classList.add("accuse-wrapper"),J.appendChild(Q);const C=document.createElement("article");C.classList.add("accuse-characters"),Q.appendChild(C);const at=document.createElement("h3");at.textContent="Who?",C.appendChild(at);const Te=document.createElement("button");Te.classList.add("accuse-name-btn"),Te.textContent="Miss Scarlett",C.appendChild(Te);const Me=document.createElement("button");Me.classList.add("accuse-name-btn"),Me.textContent="Mr. Green",C.appendChild(Me);const Se=document.createElement("button");Se.classList.add("accuse-name-btn"),Se.textContent="Colonel Mustard",C.appendChild(Se);const ve=document.createElement("button");ve.classList.add("accuse-name-btn"),ve.textContent="Professor Plum",C.appendChild(ve);const He=document.createElement("button");He.classList.add("accuse-name-btn"),He.textContent="Mrs. Peacock",C.appendChild(He);const xe=document.createElement("button");xe.classList.add("accuse-name-btn"),xe.textContent="Mrs. White",C.appendChild(xe);const g=document.createElement("article");g.classList.add("accuse-weapons"),Q.appendChild(g);const lt=document.createElement("h3");lt.textContent="Which weapon?",g.appendChild(lt);const we=document.createElement("button");we.classList.add("accuse-weapon-btn"),we.textContent="Candlestick",g.appendChild(we);const ke=document.createElement("button");ke.classList.add("accuse-weapon-btn"),ke.textContent="Knife",g.appendChild(ke);const qe=document.createElement("button");qe.classList.add("accuse-weapon-btn"),qe.textContent="Lead Pipe",g.appendChild(qe);const Ae=document.createElement("button");Ae.classList.add("accuse-weapon-btn"),Ae.textContent="Revolver",g.appendChild(Ae);const Ge=document.createElement("button");Ge.classList.add("accuse-weapon-btn"),Ge.textContent="Rope",g.appendChild(Ge);const Pe=document.createElement("button");Pe.classList.add("accuse-weapon-btn"),Pe.textContent="Wrench",g.appendChild(Pe);const d=document.createElement("article");d.classList.add("accuse-rooms"),Q.appendChild(d);const rt=document.createElement("h3");rt.textContent="Which room?",d.appendChild(rt);const Re=document.createElement("button");Re.classList.add("accuse-room-btn"),Re.textContent="Kitchen",d.appendChild(Re);const We=document.createElement("button");We.classList.add("accuse-room-btn"),We.textContent="Ballroom",d.appendChild(We);const De=document.createElement("button");De.classList.add("accuse-room-btn"),De.textContent="Conservatory",d.appendChild(De);const Ne=document.createElement("button");Ne.classList.add("accuse-room-btn"),Ne.textContent="Dining Room",d.appendChild(Ne);const Oe=document.createElement("button");Oe.classList.add("accuse-room-btn"),Oe.textContent="Billiard Room",d.appendChild(Oe);const Be=document.createElement("button");Be.classList.add("accuse-room-btn"),Be.textContent="Library",d.appendChild(Be);const Ie=document.createElement("button");Ie.classList.add("accuse-room-btn"),Ie.textContent="Lounge",d.appendChild(Ie);const $e=document.createElement("button");$e.classList.add("accuse-room-btn"),$e.textContent="Hall",d.appendChild($e);const Ke=document.createElement("button");Ke.classList.add("accuse-room-btn"),Ke.textContent="Study",d.appendChild(Ke);const le=document.createElement("button");le.classList.add("submit-accuse-btn"),le.setAttribute("disabled","true"),le.textContent="Submit my accusation!",J.appendChild(le),document.body.appendChild(J)};Nt();const $=["Miss Scarlett","Mr. Green","Colonel Mustard","Professor Plum","Mrs. Peacock","Mrs. White"],ne=["Candlestick","Knife","Lead Pipe","Revolver","Rope","Wrench"],K=["Kitchen","Ballroom","Conservatory","Dining Room","Billiard Room","Library","Lounge","Hall","Study"],i=()=>Math.floor(Math.random()*$.length),H=()=>Math.floor(Math.random()*K.length),N=document.querySelector(".guess-btn"),V=document.querySelector(".submit-guess-btn"),O=document.querySelector(".accuse-btn"),X=document.querySelector(".submit-accuse-btn"),de={name:!1,weapon:!1,room:!1},ue={name:!1,weapon:!1,room:!1},R=document.querySelector(".intro-text"),B=document.querySelector("#input-name"),dt=document.querySelector(".player-name"),Ye=document.querySelector(".error-name"),ut=document.querySelector(".start-btn"),m=document.querySelector(".bg-block"),Y=document.querySelectorAll(".room-btn"),Ot=document.querySelectorAll(".restart-game-btn"),Z=document.querySelector(".game-over-lose"),_=document.querySelector(".game-over-win"),et=(e,t,n)=>{const s=document.createElement("div");s.classList.add(e);const o=document.createElement("img");return o.src=t,o.alt=n,s.appendChild(o),s},Qe=et("player-piece","public/animal-ape-apes-svgrepo-com.svg","An orange ape representing your board piece"),f=document.querySelectorAll(".your-card"),Et=Array.from(document.querySelectorAll(".guess-name-btn")),Tt=Array.from(document.querySelectorAll(".guess-weapon-btn")),Mt=Array.from(document.querySelectorAll(".guess-room-btn")),W=document.querySelector(".guess-box"),St=Array.from(document.querySelectorAll(".accuse-name-btn")),vt=Array.from(document.querySelectorAll(".accuse-weapon-btn")),Ht=Array.from(document.querySelectorAll(".accuse-room-btn")),L=document.querySelector(".accuse-box"),Bt=et("player1-piece","public/animal-cachorro-dog-svgrepo-com.svg","A brown dog representing player 2 board piece"),S=document.querySelectorAll(".player1-card"),D=document.querySelector(".player1-guess"),it=document.querySelector(".pl1-guess-name"),mt=document.querySelector(".pl1-guess-weapon"),pt=document.querySelector(".pl1-guess-room"),It=et("player2-piece","public/animal-elefante-elephant-svgrepo-com.svg","A grey elephant representing player 2 board piece"),v=document.querySelectorAll(".player2-card"),T=document.querySelector(".player2-guess"),ht=document.querySelector(".pl2-guess-name"),bt=document.querySelector(".pl2-guess-weapon"),Ct=document.querySelector(".pl2-guess-room"),F=document.getElementsByClassName("dice")[0];let ee,M;ee=0;M=0;const I=document.querySelector(".current-timer"),a=document.querySelector(".commentator-text"),$t=document.querySelectorAll(".highscore-btn"),Fe=document.querySelector(".highscore"),Ue=document.querySelector(".winners");let G=[{name:"Peter Pan",score:2,time:"03:10"},{name:"Wednesday",score:37,time:"27:39"},{name:"Mr. Bean",score:74,time:"93:23"}];const gt=document.querySelector(".right-answer-name"),Lt=document.querySelector(".right-answer-weapon"),ft=document.querySelector(".right-answer-room"),yt=document.querySelector(".game-over-draws"),je=document.querySelector(".game-over-time");let Ve=[...$].splice(i(),1),Xe=[...ne].splice(i(),1),Ze=[...K].splice(H(),1),P=[Ve,Xe,Ze];const u=[],y=[],b=[],Kt=$.concat(ne,K),Yt=e=>{const t=[...e];let n=e.length,s;for(;n!==0;)s=Math.floor(Math.random()*n),n-=1,[t[n],t[s]]=[t[s],t[n]];return t},re=Yt(Kt);for(;b.length<3&&re.length;)u.push(re.shift()),y.push(re.shift()),b.push(re.shift());const ze=(e,t)=>{const n=e;n!==null&&n instanceof HTMLElement&&(n.innerHTML=t)},Ft=()=>{const[e,t,n]=u;ze(e,u[0]),ze(t,u[1]),ze(n,u[2])},Ut=()=>{M+=1,M>=60&&(ee+=1,M=0),I!==null&&(I.innerHTML=`${ee.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`)},jt=()=>{ee=0,M=0,I!==null&&(I.innerHTML=`${ee.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`)};let _e;const xt=()=>{Y[H()].appendChild(Bt),a!==null&&(a.innerHTML="The dog is on the loose!")},wt=()=>{Y[H()].appendChild(It),a!==null&&(a.innerHTML="The Elephant is sprinting!")},zt=()=>{F.disabled=!0},kt=()=>{F.disabled=!1},tt=()=>{F.innerHTML="Dice"},Jt=()=>{if(B!==null){if(B.value===""){Ye==null||Ye.classList.remove("hidden");return}R==null||R.classList.add("hidden"),m==null||m.classList.add("hidden"),Y[H()].appendChild(Qe),xt(),wt()}},qt=()=>{N!==null&&(N.disabled=!0),O!==null&&(O.disabled=!0)},Qt=()=>{tt(),kt(),Ft(),qt();const e=t=>{t.classList.remove("marked-option")};St.forEach(e),vt.forEach(e),Ht.forEach(e),dt!==null&&B!==null&&(dt.innerHTML=B.value,Jt(),jt(),_e=setInterval(Ut,1e3),a!==null&&(a.innerHTML="Roll the dice!"))},Vt=()=>{N!==null&&(N.disabled=!1),O!==null&&(O.disabled=!1)},At=()=>{Y.forEach(e=>{e.setAttribute("disabled","true")})},Xt=()=>{Y.forEach(e=>{e.removeAttribute("disabled")})},Zt=e=>{const t=e.currentTarget;t!==null&&a!==null&&t instanceof HTMLElement?t.contains(Qe)||(t.appendChild(Qe),At(),Vt(),a.innerHTML="Cowards guess. Idiots accuse. Which one are you?"):a!==null&&(a.innerHTML="Can't choose the same room! Choose another room.")},_t=e=>{e.addEventListener("click",Zt)},en=(e,t)=>{const n=e;n.innerHTML=b[t]};let te;te=0;const tn=()=>{te+=1},nn=e=>{e.classList.add("dice-rolling")},sn=e=>{e.classList.remove("dice-rolling")},on=e=>{const t=e.target,n=i()+1,s=()=>{sn(t)};n>3?(Xt(),zt(),a!==null&&(a.innerHTML="Move to a room.")):(At(),a!==null&&(a.innerHTML="Roll the dice again.")),nn(t),setTimeout(s,500),tn(),t!==null&&(t.innerHTML=String(n))},cn=()=>{m!==null&&L!==null&&(m.classList.remove("hidden"),L.classList.remove("hidden"))},an=()=>{W==null||W.classList.remove("hidden"),m==null||m.classList.remove("hidden")},nt=()=>{de.name===!0&&de.weapon===!0&&de.room===!0&&V!==null&&(V.disabled=!1)},st=()=>{ue.name===!0&&ue.weapon===!0&&ue.room===!0&&X!==null&&(X.disabled=!1)},U=(e,t,n)=>{const s=c=>{const l=c.target;l.classList.add("marked-option"),de[t]=!0,ue[t]=!0,n();const p=E=>{E!==l&&E.classList.remove("marked-option")};e.forEach(p)},o=c=>{c.addEventListener("click",s)};e.forEach(o)},Gt=()=>{if(Ue!==null){Ue.innerHTML="";for(let e=0;e<G.length;e++){const t=G[e];Ue.innerHTML+=`
        <tr>
          <td>${e+1}</td>
          <td>${t.name}</td>
          <td>${t.score}</td>
          <td>${t.time} min</td>
        </tr>
      `}}},ln=(e,t,n)=>{const s={name:e,score:t,time:n};G.push(s),G.sort((o,c)=>{if(o.score!==c.score)return o.score-c.score;const l=Date.parse(o.time),p=Date.parse(c.time);return(l-p)/1e3}),G=G.slice(0,3),Gt()},rn=()=>{var x,w,k;clearInterval(_e);const e=String((x=document.querySelector(".accuse-name-btn.marked-option"))==null?void 0:x.innerHTML),t=String((w=document.querySelector(".accuse-weapon-btn.marked-option"))==null?void 0:w.innerHTML),n=String((k=document.querySelector(".accuse-room-btn.marked-option"))==null?void 0:k.innerHTML),s=e===P[0][0],o=t===P[1][0],c=n===P[2][0];if(s&&o&&c&&(_!==null&&yt!==null&&je!==null&&a!==null&&I!==null&&B!==null))L==null||L.classList.add("hidden"),_.classList.remove("hidden"),yt.innerHTML=String(te),clearInterval(_e),je.innerHTML=I.innerHTML,ln(B.value,te,je.innerHTML),a.innerHTML="You are the next Sherlock Holmes.";else if(gt!==null&&Lt!==null&&ft!==null&&Z!==null&&a!==null){const[[j],[z],[r]]=P;gt.innerHTML=j,Lt.innerHTML=z,ft.innerHTML=r,L==null||L.classList.add("hidden"),Z.classList.remove("hidden"),a.innerHTML="You thought you were clever, huh?"}},Pt=()=>{for(let e=0;e<u.length;e++)S[e].innerHTML=`Card ${e+1}`,S[e].classList.remove("guess-match","player1-match","player2-match")},Rt=()=>{for(let e=0;e<y.length;e++)v[e].innerHTML=`Card ${e+1}`,v[e].classList.remove("guess-match","player1-match","player2-match")},ot=()=>{for(let e=0;e<b.length;e++)f[e].classList.remove("guess-match","player1-match","player2-match")},q=(e,t,n)=>{const s=e.indexOf(n);s>-1&&t[s].classList.add("player1-match")},dn=()=>{D!==null&&a!==null&&(D.classList.remove("hidden"),a.innerHTML="The Dog is making a guess")},un=()=>{D==null||D.classList.add("hidden"),Rt(),ot()},A=(e,t)=>{t>-1&&e[t].classList.add("player2-match")},mn=()=>{T!==null&&a!==null&&(T==null||T.classList.remove("hidden"),a.innerHTML="The Elephant is making a guess")},pn=()=>{T==null||T.classList.add("hidden"),Pt(),ot(),kt(),tt(),a!==null&&(a.innerHTML="Guess you were too scared to accuse... Coward! Now, roll the dice.")},Wt=()=>{Pt(),Rt();const e=i()+1;if(F.innerHTML=String(e),e>3&&it!==null&&mt!==null&&pt!==null&&D!==null&&a!==null){xt();const t=$[i()],n=ne[i()],s=K[H()];it.innerHTML=t,mt.innerHTML=n,pt.innerHTML=s;const o=()=>{q(y,v,t),q(y,v,n),q(y,v,s)},c=()=>{q(b,f,t),q(b,f,n),q(b,f,s)};setTimeout(dn,1e3*4),setTimeout(o,1e3*6),setTimeout(c,1e3*6),setTimeout(un,1e3*10)}else Wt()},Dt=()=>{const e=i()+1;if(F.innerHTML=String(e),e>3&&ht!==null&&bt!==null&&Ct!==null&&a!==null){wt();const t=$[i()],n=ne[i()],s=K[H()];ht.innerHTML=t,bt.innerHTML=n,Ct.innerHTML=s;const o=()=>{A(S,u.indexOf(t)),A(S,u.indexOf(n)),A(S,u.indexOf(s))},c=()=>{A(f,b.indexOf(t)),A(f,b.indexOf(n)),A(f,b.indexOf(s))};setTimeout(mn,1e3*4),setTimeout(o,1e3*6),setTimeout(c,1e3*6),setTimeout(pn,1e3*10)}else Dt()},Je=e=>{e.classList.remove("marked-option")},hn=()=>{m==null||m.classList.add("hidden");const e=document.querySelectorAll(".guess-name-btn.marked-option")[0].innerHTML,t=document.querySelectorAll(".guess-weapon-btn.marked-option")[0].innerHTML,n=document.querySelectorAll(".guess-room-btn.marked-option")[0].innerHTML,s=(c,l)=>{[e,t,n].includes(c)&&(S[l].innerHTML=u[l],S[l].classList.add("guess-match"))},o=(c,l)=>{[e,t,n].includes(c)&&(v[l].innerHTML=y[l],v[l].classList.add("guess-match"))};u.forEach(s),y.forEach(o),Et.forEach(Je),Tt.forEach(Je),Mt.forEach(Je),qt(),W==null||W.classList.add("hidden"),ot(),tt(),setTimeout(Wt,1e3*3),setTimeout(Dt,1e3*12)},bn=()=>{Fe==null||Fe.classList.remove("hidden"),Z==null||Z.classList.add("hidden"),_==null||_.classList.add("hidden")},Cn=e=>{e.addEventListener("click",bn)},gn=e=>{const t=e.target;t!==null&&t.parentElement!==null&&(t.parentElement.classList.add("hidden"),te=0,R==null||R.classList.remove("hidden")),Ve=[...$].splice(i(),1),Xe=[...ne].splice(i(),1),Ze=[...K].splice(H(),1),P=[Ve,Xe,Ze]};ut!==null&&ut.addEventListener("click",Qt);Ot.forEach(e=>{e.addEventListener("click",gn)});F.addEventListener("click",on);N!==null&&N.addEventListener("click",an);Y.forEach(_t);f.forEach(en);U(Et,"name",nt);U(Tt,"weapon",nt);U(Mt,"room",nt);U(St,"name",st);U(vt,"weapon",st);U(Ht,"room",st);O!==null&&O.addEventListener("click",cn);V==null||V.addEventListener("click",hn);X==null||X.addEventListener("click",rn);Gt();$t.forEach(Cn);console.table(u);console.log("player1 hand");console.table(y);console.log("player2 hand");console.table(P);console.log("accused deck");

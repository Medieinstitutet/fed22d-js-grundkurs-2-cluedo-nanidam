(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();const $t=()=>{const e=document.createElement("section");e.classList.add("guess-box","hidden");const t=document.createElement("h2");t.classList.add("guess-title"),t.textContent="Make a guess",e.appendChild(t);const n=document.createElement("div");n.classList.add("guess-wrapper"),e.appendChild(n);const s=document.createElement("article");s.classList.add("guess-characters"),n.appendChild(s);const o=document.createElement("h3");o.textContent="Who?",s.appendChild(o);const c=document.createElement("button");c.classList.add("guess-name-btn"),c.textContent="Miss Scarlett",s.appendChild(c);const l=document.createElement("button");l.classList.add("guess-name-btn"),l.textContent="Mr. Green",s.appendChild(l);const d=document.createElement("button");d.classList.add("guess-name-btn"),d.textContent="Colonel Mustard",s.appendChild(d);const T=document.createElement("button");T.classList.add("guess-name-btn"),T.textContent="Professor Plum",s.appendChild(T);const oe=document.createElement("button");oe.classList.add("guess-name-btn"),oe.textContent="Mrs. Peacock",s.appendChild(oe);const ce=document.createElement("button");ce.classList.add("guess-name-btn"),ce.textContent="Mrs. White",s.appendChild(ce);const g=document.createElement("article");g.classList.add("guess-weapons"),n.appendChild(g);const ie=document.createElement("h3");ie.textContent="Which weapon?",g.appendChild(ie);const ae=document.createElement("button");ae.classList.add("guess-weapon-btn"),ae.textContent="Candlestick",g.appendChild(ae);const A=document.createElement("button");A.classList.add("guess-weapon-btn"),A.textContent="Knife",g.appendChild(A);const q=document.createElement("button");q.classList.add("guess-weapon-btn"),q.textContent="Lead Pipe",g.appendChild(q);const G=document.createElement("button");G.classList.add("guess-weapon-btn"),G.textContent="Revolver",g.appendChild(G);const j=document.createElement("button");j.classList.add("guess-weapon-btn"),j.textContent="Rope",g.appendChild(j);const z=document.createElement("button");z.classList.add("guess-weapon-btn"),z.textContent="Wrench",g.appendChild(z);const u=document.createElement("article");u.classList.add("guess-rooms"),n.appendChild(u);const at=document.createElement("h3");at.textContent="Which room?",u.appendChild(at);const me=document.createElement("button");me.classList.add("guess-room-btn"),me.textContent="Kitchen",u.appendChild(me);const pe=document.createElement("button");pe.classList.add("guess-room-btn"),pe.textContent="Ballroom",u.appendChild(pe);const he=document.createElement("button");he.classList.add("guess-room-btn"),he.textContent="Conservatory",u.appendChild(he);const be=document.createElement("button");be.classList.add("guess-room-btn"),be.textContent="Dining Room",u.appendChild(be);const ge=document.createElement("button");ge.classList.add("guess-room-btn"),ge.textContent="Billiard Room",u.appendChild(ge);const Ce=document.createElement("button");Ce.classList.add("guess-room-btn"),Ce.textContent="Library",u.appendChild(Ce);const Le=document.createElement("button");Le.classList.add("guess-room-btn"),Le.textContent="Lounge",u.appendChild(Le);const fe=document.createElement("button");fe.classList.add("guess-room-btn"),fe.textContent="Hall",u.appendChild(fe);const ye=document.createElement("button");ye.classList.add("guess-room-btn"),ye.textContent="Study",u.appendChild(ye);const le=document.createElement("button");le.classList.add("submit-guess-btn"),le.setAttribute("disabled","true"),le.textContent="Submit guess",e.appendChild(le),document.body.appendChild(e);const J=document.createElement("section");J.classList.add("accuse-box","hidden");const Ee=document.createElement("h2");Ee.classList.add("accuse-title"),Ee.textContent="Make an accusation!",J.appendChild(Ee);const Q=document.createElement("div");Q.classList.add("accuse-wrapper"),J.appendChild(Q);const L=document.createElement("article");L.classList.add("accuse-characters"),Q.appendChild(L);const lt=document.createElement("h3");lt.textContent="Who?",L.appendChild(lt);const Me=document.createElement("button");Me.classList.add("accuse-name-btn"),Me.textContent="Miss Scarlett",L.appendChild(Me);const Te=document.createElement("button");Te.classList.add("accuse-name-btn"),Te.textContent="Mr. Green",L.appendChild(Te);const Se=document.createElement("button");Se.classList.add("accuse-name-btn"),Se.textContent="Colonel Mustard",L.appendChild(Se);const ve=document.createElement("button");ve.classList.add("accuse-name-btn"),ve.textContent="Professor Plum",L.appendChild(ve);const He=document.createElement("button");He.classList.add("accuse-name-btn"),He.textContent="Mrs. Peacock",L.appendChild(He);const xe=document.createElement("button");xe.classList.add("accuse-name-btn"),xe.textContent="Mrs. White",L.appendChild(xe);const f=document.createElement("article");f.classList.add("accuse-weapons"),Q.appendChild(f);const rt=document.createElement("h3");rt.textContent="Which weapon?",f.appendChild(rt);const we=document.createElement("button");we.classList.add("accuse-weapon-btn"),we.textContent="Candlestick",f.appendChild(we);const ke=document.createElement("button");ke.classList.add("accuse-weapon-btn"),ke.textContent="Knife",f.appendChild(ke);const Ae=document.createElement("button");Ae.classList.add("accuse-weapon-btn"),Ae.textContent="Lead Pipe",f.appendChild(Ae);const qe=document.createElement("button");qe.classList.add("accuse-weapon-btn"),qe.textContent="Revolver",f.appendChild(qe);const Ge=document.createElement("button");Ge.classList.add("accuse-weapon-btn"),Ge.textContent="Rope",f.appendChild(Ge);const Pe=document.createElement("button");Pe.classList.add("accuse-weapon-btn"),Pe.textContent="Wrench",f.appendChild(Pe);const m=document.createElement("article");m.classList.add("accuse-rooms"),Q.appendChild(m);const dt=document.createElement("h3");dt.textContent="Which room?",m.appendChild(dt);const Re=document.createElement("button");Re.classList.add("accuse-room-btn"),Re.textContent="Kitchen",m.appendChild(Re);const We=document.createElement("button");We.classList.add("accuse-room-btn"),We.textContent="Ballroom",m.appendChild(We);const De=document.createElement("button");De.classList.add("accuse-room-btn"),De.textContent="Conservatory",m.appendChild(De);const Ne=document.createElement("button");Ne.classList.add("accuse-room-btn"),Ne.textContent="Dining Room",m.appendChild(Ne);const Oe=document.createElement("button");Oe.classList.add("accuse-room-btn"),Oe.textContent="Billiard Room",m.appendChild(Oe);const Be=document.createElement("button");Be.classList.add("accuse-room-btn"),Be.textContent="Library",m.appendChild(Be);const Ie=document.createElement("button");Ie.classList.add("accuse-room-btn"),Ie.textContent="Lounge",m.appendChild(Ie);const $e=document.createElement("button");$e.classList.add("accuse-room-btn"),$e.textContent="Hall",m.appendChild($e);const Fe=document.createElement("button");Fe.classList.add("accuse-room-btn"),Fe.textContent="Study",m.appendChild(Fe);const re=document.createElement("button");re.classList.add("submit-accuse-btn"),re.setAttribute("disabled","true"),re.textContent="Submit my accusation!",J.appendChild(re),document.body.appendChild(J)};$t();const x=["Miss Scarlett","Mr. Green","Colonel Mustard","Professor Plum","Mrs. Peacock","Mrs. White"],O=["Candlestick","Knife","Lead Pipe","Revolver","Rope","Wrench"],w=["Kitchen","Ballroom","Conservatory","Dining Room","Billiard Room","Library","Lounge","Hall","Study"];let Qe;const h=()=>Math.floor(Math.random()*x.length),k=()=>Math.floor(Math.random()*w.length),B=document.querySelector(".guess-btn"),Z=document.querySelector(".submit-guess-btn"),I=document.querySelector(".accuse-btn"),_=document.querySelector(".submit-accuse-btn"),de={name:!1,weapon:!1,room:!1},ue={name:!1,weapon:!1,room:!1},W=document.querySelector(".intro-text"),$=document.querySelector("#input-name"),ut=document.querySelector(".player-name"),Ke=document.querySelector(".error-name"),it=document.querySelector(".start-btn"),b=document.querySelector(".bg-block"),K=document.querySelectorAll(".room-btn"),tt=(e,t,n)=>{const s=document.createElement("div");s.classList.add(e);const o=document.createElement("img");return o.src=t,o.alt=n,s.appendChild(o),s},Ve=tt("player-piece","https://github.com/Medieinstitutet/fed22d-js-grundkurs-2-cluedo-nanidam/blob/main/public/animal-ape-apes-svgrepo-com.svg","An orange ape representing your board piece"),E=document.querySelectorAll(".your-card"),Mt=Array.from(document.querySelectorAll(".guess-name-btn")),Tt=Array.from(document.querySelectorAll(".guess-weapon-btn")),St=Array.from(document.querySelectorAll(".guess-room-btn")),D=document.querySelector(".guess-box"),vt=Array.from(document.querySelectorAll(".accuse-name-btn")),Ht=Array.from(document.querySelectorAll(".accuse-weapon-btn")),xt=Array.from(document.querySelectorAll(".accuse-room-btn")),M=document.querySelector(".accuse-box"),Ft=tt("player1-piece","public/animal-cachorro-dog-svgrepo-com.svg","A brown dog representing player 2 board piece"),H=document.querySelectorAll(".player1-card"),N=document.querySelector(".player1-guess"),mt=document.querySelector(".pl1-guess-name"),pt=document.querySelector(".pl1-guess-weapon"),ht=document.querySelector(".pl1-guess-room"),Kt=tt("player2-piece","public/animal-elefante-elephant-svgrepo-com.svg","A grey elephant representing player 2 board piece"),C=document.querySelectorAll(".player2-card"),S=document.querySelector(".player2-guess"),bt=document.querySelector(".pl2-guess-name"),gt=document.querySelector(".pl2-guess-weapon"),Ct=document.querySelector(".pl2-guess-room"),Y=document.getElementsByClassName("dice")[0];let ne,v;ne=0;v=0;const F=document.querySelector(".current-timer");let se;se=0;const a=document.querySelector(".commentator-text"),Yt=document.querySelectorAll(".highscore-btn"),Ye=document.querySelector(".highscore"),Ue=document.querySelector(".winners");let R=[{name:"Peter Pan",score:1,time:"00:07"},{name:"Wednesday",score:37,time:"27:39"},{name:"Mr. Bean",score:74,time:"93:23"}];const Ut=document.querySelectorAll(".restart-game-btn"),ee=document.querySelector(".game-over-lose"),te=document.querySelector(".game-over-win"),Lt=document.querySelector(".right-answer-name"),ft=document.querySelector(".right-answer-weapon"),yt=document.querySelector(".right-answer-room"),Et=document.querySelector(".game-over-draws"),je=document.querySelector(".game-over-time");let Xe=[...x].splice(h(),1),Ze=[...O].splice(h(),1),_e=[...w].splice(k(),1),V=[Xe,Ze,_e],r=[],p=[],i=[],et=x.concat(O,w);const wt=e=>{const t=[...e];let n=e.length,s;for(;n!==0;)s=Math.floor(Math.random()*n),n-=1,[t[n],t[s]]=[t[s],t[n]];return t};let X=wt(et);const kt=()=>{for(;i.length<3&&X.length;)r.push(X.shift()),p.push(X.shift()),i.push(X.shift())};kt();const ze=(e,t)=>{const n=e;n!==null&&n instanceof HTMLElement&&(n.innerHTML=t)},jt=()=>{const[e,t,n]=r;ze(e,r[0]),ze(t,r[1]),ze(n,r[2])},zt=()=>{v+=1,v>=60&&(ne+=1,v=0),F!==null&&(F.innerHTML=`${ne.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`)},Jt=()=>{ne=0,v=0,F!==null&&(F.innerHTML=`${ne.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`)},At=()=>{K[k()].appendChild(Ft),a!==null&&(a.innerHTML="The dog is on the loose!")},qt=()=>{K[k()].appendChild(Kt),a!==null&&(a.innerHTML="The Elephant is sprinting!")},Qt=()=>{Y.disabled=!0},Gt=()=>{Y.disabled=!1},nt=()=>{Y.innerHTML="Dice"},Vt=()=>{if($!==null){if($.value===""){Ke==null||Ke.classList.remove("hidden");return}W==null||W.classList.add("hidden"),b==null||b.classList.add("hidden"),K[k()].appendChild(Ve),At(),qt()}},Pt=()=>{B!==null&&(B.disabled=!0),I!==null&&(I.disabled=!0)},Xt=()=>{nt(),Gt(),jt(),Pt();const e=t=>{t.classList.remove("marked-option")};vt.forEach(e),Ht.forEach(e),xt.forEach(e),ut!==null&&$!==null&&(ut.innerHTML=$.value,Vt(),Jt(),Qe=setInterval(zt,1e3),a!==null&&(a.innerHTML="Roll the dice!"))},Zt=()=>{B!==null&&(B.disabled=!1),I!==null&&(I.disabled=!1)},_t=e=>{e.setAttribute("disabled","true")},Rt=()=>{K.forEach(_t)},en=e=>{e.removeAttribute("disabled")},tn=()=>{K.forEach(en)},nn=e=>{const t=e.currentTarget;t!==null&&a!==null&&t instanceof HTMLElement?t.contains(Ve)||(t.appendChild(Ve),Rt(),Zt(),a.innerHTML="Cowards guess. Idiots accuse. Which one are you?"):a!==null&&(a.innerHTML="Can't choose the same room! Choose another room.")},sn=e=>{e.addEventListener("click",nn)},Wt=(e,t)=>{const n=e;n.innerHTML=i[t]},on=()=>{se+=1},cn=e=>{e.classList.add("dice-rolling")},an=e=>{e.classList.remove("dice-rolling")},ln=e=>{const t=e.target,n=h()+1,s=()=>{an(t)};n>3?(tn(),Qt(),a!==null&&(a.innerHTML="Move to a room.")):(Rt(),a!==null&&(a.innerHTML="Roll the dice again.")),cn(t),setTimeout(s,500),on(),t!==null&&(t.innerHTML=String(n))},rn=()=>{b!==null&&M!==null&&(b.classList.remove("hidden"),M.classList.remove("hidden"))},dn=()=>{D==null||D.classList.remove("hidden"),b==null||b.classList.remove("hidden")},st=()=>{de.name===!0&&de.weapon===!0&&de.room===!0&&Z!==null&&(Z.disabled=!1)},ot=()=>{ue.name===!0&&ue.weapon===!0&&ue.room===!0&&_!==null&&(_.disabled=!1)},U=(e,t,n)=>{const s=c=>{const l=c.target;l.classList.add("marked-option"),de[t]=!0,ue[t]=!0,n();const d=T=>{T!==l&&T.classList.remove("marked-option")};e.forEach(d)},o=c=>{c.addEventListener("click",s)};e.forEach(o)},Dt=()=>{if(Ue!==null){Ue.innerHTML="";for(let e=0;e<R.length;e++){const t=R[e];Ue.innerHTML+=`
        <tr>
          <td>${e+1}</td>
          <td>${t.name}</td>
          <td>${t.score}</td>
          <td>${t.time} min</td>
        </tr>
      `}}},un=(e,t)=>{if(e.score!==t.score)return e.score-t.score;const n=Date.parse(e.time),s=Date.parse(t.time);return(n-s)/1e3},mn=(e,t,n)=>{const s={name:e,score:t,time:n};R.push(s),R.sort(un),R=R.slice(0,3),Dt()},pn=()=>{var A,q,G;clearInterval(Qe);const e=String((A=document.querySelector(".accuse-name-btn.marked-option"))==null?void 0:A.innerHTML),t=String((q=document.querySelector(".accuse-weapon-btn.marked-option"))==null?void 0:q.innerHTML),n=String((G=document.querySelector(".accuse-room-btn.marked-option"))==null?void 0:G.innerHTML),s=e===V[0][0],o=t===V[1][0],c=n===V[2][0];if(s&&o&&c&&(te!==null&&Et!==null&&je!==null&&a!==null&&F!==null&&$!==null))M==null||M.classList.add("hidden"),te.classList.remove("hidden"),Et.innerHTML=String(se),clearInterval(Qe),je.innerHTML=F.innerHTML,mn($.value,se,je.innerHTML),a.innerHTML="You are the next Sherlock Holmes.";else if(Lt!==null&&ft!==null&&yt!==null&&ee!==null&&a!==null){const[[j],[z],[u]]=V;Lt.innerHTML=j,ft.innerHTML=z,yt.innerHTML=u,M==null||M.classList.add("hidden"),ee.classList.remove("hidden"),a.innerHTML="You thought you were clever, huh?"}},Nt=()=>{for(let e=0;e<r.length;e++)H[e].innerHTML="Cluedo",H[e].classList.remove("guess-match","player1-match","player2-match")},Ot=()=>{for(let e=0;e<p.length;e++)C[e].innerHTML="Cluedo",C[e].classList.remove("guess-match","player1-match","player2-match")},ct=()=>{for(let e=0;e<i.length;e++)E[e].classList.remove("guess-match","player1-match","player2-match")},y=(e,t,n,s)=>{const o=e.indexOf(n);if(o>-1){if(s==="check")return!0;t[o].classList.add("player1-match")}return!1},hn=()=>{N!==null&&a!==null&&(N.classList.remove("hidden"),a.innerHTML="The Dog is making a guess")},bn=()=>{N==null||N.classList.add("hidden"),Ot(),ct()},P=(e,t)=>{t>-1&&e[t].classList.add("player2-match")},gn=()=>{S!==null&&a!==null&&(S==null||S.classList.remove("hidden"),a.innerHTML="The Elephant is making a guess")},Cn=()=>{S==null||S.classList.add("hidden"),Nt(),ct(),Gt(),nt(),a!==null&&(a.innerHTML="Guess you were too scared to accuse... Coward! Now, roll the dice.")},Bt=()=>{Nt(),Ot();const e=h()+1;if(Y.innerHTML=String(e),e>3&&mt!==null&&pt!==null&&ht!==null&&N!==null&&a!==null){At();const t=x[h()],n=O[h()],s=w[k()];mt.innerHTML=t,pt.innerHTML=n,ht.innerHTML=s;const o=()=>{y(p,C,t),y(p,C,n),y(p,C,s)},c=()=>{y(i,E,t),y(i,E,n),y(i,E,s)};y(p,C,t,"check")||y(p,C,n,"check")||y(p,C,s,"check")?setTimeout(o,1e3*6):setTimeout(c,1e3*6),setTimeout(hn,1e3*4),setTimeout(bn,1e3*10)}else Bt()},It=()=>{const e=h()+1;if(Y.innerHTML=String(e),e>3&&bt!==null&&gt!==null&&Ct!==null&&a!==null){qt();const t=x[h()],n=O[h()],s=w[k()];bt.innerHTML=t,gt.innerHTML=n,Ct.innerHTML=s;const o=()=>{P(H,r.indexOf(t)),P(H,r.indexOf(n)),P(H,r.indexOf(s))},c=()=>{P(E,i.indexOf(t)),P(E,i.indexOf(n)),P(E,i.indexOf(s))};i.indexOf(t)||i.indexOf(n)||i.indexOf(s)?setTimeout(c,1e3*6):setTimeout(o,1e3*6),setTimeout(gn,1e3*4),setTimeout(Cn,1e3*10)}else It()},Je=e=>{e.classList.remove("marked-option")},Ln=()=>{b==null||b.classList.add("hidden");const e=document.querySelectorAll(".guess-name-btn.marked-option")[0].innerHTML,t=document.querySelectorAll(".guess-weapon-btn.marked-option")[0].innerHTML,n=document.querySelectorAll(".guess-room-btn.marked-option")[0].innerHTML,s=[e,t,n],o=(l,d)=>{s.includes(l)&&(H[d].innerHTML=r[d],H[d].classList.add("guess-match"))},c=(l,d)=>{s.includes(l)&&(C[d].innerHTML=p[d],C[d].classList.add("guess-match"))};r.includes(s[0])||r.includes(s[1])||r.includes(s[2])?r.forEach(o):p.forEach(c),Mt.forEach(Je),Tt.forEach(Je),St.forEach(Je),Pt(),D==null||D.classList.add("hidden"),ct(),nt(),setTimeout(Bt,1e3*3),setTimeout(It,1e3*12)},fn=()=>{Ye==null||Ye.classList.remove("hidden"),ee==null||ee.classList.add("hidden"),te==null||te.classList.add("hidden")},yn=e=>{e.addEventListener("click",fn)},En=e=>{const t=e.target;t!==null&&t.parentElement!==null&&(t.parentElement.classList.add("hidden"),se=0,W==null||W.classList.remove("hidden")),Xe=[...x].splice(h(),1),Ze=[...O].splice(h(),1),_e=[...w].splice(k(),1),V=[Xe,Ze,_e],et=x.concat(O,w),r=[],p=[],i=[],X=wt(et),kt(),E.forEach(Wt)},Mn=e=>{e.addEventListener("click",En)};it!==null&&it.addEventListener("click",Xt);E.forEach(Wt);K.forEach(sn);Y.addEventListener("click",ln);B!==null&&B.addEventListener("click",dn);Z==null||Z.addEventListener("click",Ln);U(Mt,"name",st);U(Tt,"weapon",st);U(St,"room",st);U(vt,"name",ot);U(Ht,"weapon",ot);U(xt,"room",ot);I!==null&&I.addEventListener("click",rn);_==null||_.addEventListener("click",pn);Dt();Yt.forEach(yn);Ut.forEach(Mn);

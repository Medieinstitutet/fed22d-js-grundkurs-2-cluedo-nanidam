(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();const $t=()=>{const e=document.createElement("section");e.classList.add("guess-box","hidden");const t=document.createElement("h2");t.classList.add("guess-title"),t.textContent="Make a guess",e.appendChild(t);const n=document.createElement("div");n.classList.add("guess-wrapper"),e.appendChild(n);const s=document.createElement("article");s.classList.add("guess-characters"),n.appendChild(s);const o=document.createElement("h3");o.textContent="Who?",s.appendChild(o);const c=document.createElement("button");c.classList.add("guess-name-btn"),c.textContent="Miss Scarlett",s.appendChild(c);const l=document.createElement("button");l.classList.add("guess-name-btn"),l.textContent="Mr. Green",s.appendChild(l);const r=document.createElement("button");r.classList.add("guess-name-btn"),r.textContent="Colonel Mustard",s.appendChild(r);const M=document.createElement("button");M.classList.add("guess-name-btn"),M.textContent="Professor Plum",s.appendChild(M);const oe=document.createElement("button");oe.classList.add("guess-name-btn"),oe.textContent="Mrs. Peacock",s.appendChild(oe);const ce=document.createElement("button");ce.classList.add("guess-name-btn"),ce.textContent="Mrs. White",s.appendChild(ce);const g=document.createElement("article");g.classList.add("guess-weapons"),n.appendChild(g);const ie=document.createElement("h3");ie.textContent="Which weapon?",g.appendChild(ie);const ae=document.createElement("button");ae.classList.add("guess-weapon-btn"),ae.textContent="Candlestick",g.appendChild(ae);const A=document.createElement("button");A.classList.add("guess-weapon-btn"),A.textContent="Knife",g.appendChild(A);const q=document.createElement("button");q.classList.add("guess-weapon-btn"),q.textContent="Lead Pipe",g.appendChild(q);const G=document.createElement("button");G.classList.add("guess-weapon-btn"),G.textContent="Revolver",g.appendChild(G);const z=document.createElement("button");z.classList.add("guess-weapon-btn"),z.textContent="Rope",g.appendChild(z);const J=document.createElement("button");J.classList.add("guess-weapon-btn"),J.textContent="Wrench",g.appendChild(J);const i=document.createElement("article");i.classList.add("guess-rooms"),n.appendChild(i);const at=document.createElement("h3");at.textContent="Which room?",i.appendChild(at);const me=document.createElement("button");me.classList.add("guess-room-btn"),me.textContent="Kitchen",i.appendChild(me);const pe=document.createElement("button");pe.classList.add("guess-room-btn"),pe.textContent="Ballroom",i.appendChild(pe);const he=document.createElement("button");he.classList.add("guess-room-btn"),he.textContent="Conservatory",i.appendChild(he);const be=document.createElement("button");be.classList.add("guess-room-btn"),be.textContent="Dining Room",i.appendChild(be);const ge=document.createElement("button");ge.classList.add("guess-room-btn"),ge.textContent="Billiard Room",i.appendChild(ge);const Ce=document.createElement("button");Ce.classList.add("guess-room-btn"),Ce.textContent="Library",i.appendChild(Ce);const Le=document.createElement("button");Le.classList.add("guess-room-btn"),Le.textContent="Lounge",i.appendChild(Le);const fe=document.createElement("button");fe.classList.add("guess-room-btn"),fe.textContent="Hall",i.appendChild(fe);const ye=document.createElement("button");ye.classList.add("guess-room-btn"),ye.textContent="Study",i.appendChild(ye);const le=document.createElement("button");le.classList.add("submit-guess-btn"),le.setAttribute("disabled","true"),le.textContent="Submit guess",e.appendChild(le),document.body.appendChild(e);const Q=document.createElement("section");Q.classList.add("accuse-box","hidden");const Ee=document.createElement("h2");Ee.classList.add("accuse-title"),Ee.textContent="Make an accusation!",Q.appendChild(Ee);const V=document.createElement("div");V.classList.add("accuse-wrapper"),Q.appendChild(V);const L=document.createElement("article");L.classList.add("accuse-characters"),V.appendChild(L);const lt=document.createElement("h3");lt.textContent="Who?",L.appendChild(lt);const Te=document.createElement("button");Te.classList.add("accuse-name-btn"),Te.textContent="Miss Scarlett",L.appendChild(Te);const Me=document.createElement("button");Me.classList.add("accuse-name-btn"),Me.textContent="Mr. Green",L.appendChild(Me);const Se=document.createElement("button");Se.classList.add("accuse-name-btn"),Se.textContent="Colonel Mustard",L.appendChild(Se);const ve=document.createElement("button");ve.classList.add("accuse-name-btn"),ve.textContent="Professor Plum",L.appendChild(ve);const He=document.createElement("button");He.classList.add("accuse-name-btn"),He.textContent="Mrs. Peacock",L.appendChild(He);const xe=document.createElement("button");xe.classList.add("accuse-name-btn"),xe.textContent="Mrs. White",L.appendChild(xe);const f=document.createElement("article");f.classList.add("accuse-weapons"),V.appendChild(f);const rt=document.createElement("h3");rt.textContent="Which weapon?",f.appendChild(rt);const we=document.createElement("button");we.classList.add("accuse-weapon-btn"),we.textContent="Candlestick",f.appendChild(we);const ke=document.createElement("button");ke.classList.add("accuse-weapon-btn"),ke.textContent="Knife",f.appendChild(ke);const Ae=document.createElement("button");Ae.classList.add("accuse-weapon-btn"),Ae.textContent="Lead Pipe",f.appendChild(Ae);const qe=document.createElement("button");qe.classList.add("accuse-weapon-btn"),qe.textContent="Revolver",f.appendChild(qe);const Ge=document.createElement("button");Ge.classList.add("accuse-weapon-btn"),Ge.textContent="Rope",f.appendChild(Ge);const Pe=document.createElement("button");Pe.classList.add("accuse-weapon-btn"),Pe.textContent="Wrench",f.appendChild(Pe);const m=document.createElement("article");m.classList.add("accuse-rooms"),V.appendChild(m);const dt=document.createElement("h3");dt.textContent="Which room?",m.appendChild(dt);const Re=document.createElement("button");Re.classList.add("accuse-room-btn"),Re.textContent="Kitchen",m.appendChild(Re);const We=document.createElement("button");We.classList.add("accuse-room-btn"),We.textContent="Ballroom",m.appendChild(We);const De=document.createElement("button");De.classList.add("accuse-room-btn"),De.textContent="Conservatory",m.appendChild(De);const Ne=document.createElement("button");Ne.classList.add("accuse-room-btn"),Ne.textContent="Dining Room",m.appendChild(Ne);const Oe=document.createElement("button");Oe.classList.add("accuse-room-btn"),Oe.textContent="Billiard Room",m.appendChild(Oe);const Be=document.createElement("button");Be.classList.add("accuse-room-btn"),Be.textContent="Library",m.appendChild(Be);const Ie=document.createElement("button");Ie.classList.add("accuse-room-btn"),Ie.textContent="Lounge",m.appendChild(Ie);const $e=document.createElement("button");$e.classList.add("accuse-room-btn"),$e.textContent="Hall",m.appendChild($e);const Ke=document.createElement("button");Ke.classList.add("accuse-room-btn"),Ke.textContent="Study",m.appendChild(Ke);const re=document.createElement("button");re.classList.add("submit-accuse-btn"),re.setAttribute("disabled","true"),re.textContent="Submit my accusation!",Q.appendChild(re),document.body.appendChild(Q)};$t();const x=["Miss Scarlett","Mr. Green","Colonel Mustard","Professor Plum","Mrs. Peacock","Mrs. White"],B=["Candlestick","Knife","Lead Pipe","Revolver","Rope","Wrench"],w=["Kitchen","Ballroom","Conservatory","Dining Room","Billiard Room","Library","Lounge","Hall","Study"],h=()=>Math.floor(Math.random()*x.length),k=()=>Math.floor(Math.random()*w.length),I=document.querySelector(".guess-btn"),Z=document.querySelector(".submit-guess-btn"),$=document.querySelector(".accuse-btn"),_=document.querySelector(".submit-accuse-btn"),de={name:!1,weapon:!1,room:!1},ue={name:!1,weapon:!1,room:!1},D=document.querySelector(".intro-text"),K=document.querySelector("#input-name"),ut=document.querySelector(".player-name"),Ye=document.querySelector(".error-name"),it=document.querySelector(".start-btn"),b=document.querySelector(".bg-block"),F=document.querySelectorAll(".room-btn"),Kt=document.querySelectorAll(".restart-game-btn"),ee=document.querySelector(".game-over-lose"),te=document.querySelector(".game-over-win"),tt=(e,t,n)=>{const s=document.createElement("div");s.classList.add(e);const o=document.createElement("img");return o.src=t,o.alt=n,s.appendChild(o),s},Qe=tt("player-piece","public/animal-ape-apes-svgrepo-com.svg","An orange ape representing your board piece"),E=document.querySelectorAll(".your-card"),Tt=Array.from(document.querySelectorAll(".guess-name-btn")),Mt=Array.from(document.querySelectorAll(".guess-weapon-btn")),St=Array.from(document.querySelectorAll(".guess-room-btn")),N=document.querySelector(".guess-box"),vt=Array.from(document.querySelectorAll(".accuse-name-btn")),Ht=Array.from(document.querySelectorAll(".accuse-weapon-btn")),xt=Array.from(document.querySelectorAll(".accuse-room-btn")),T=document.querySelector(".accuse-box"),Yt=tt("player1-piece","public/animal-cachorro-dog-svgrepo-com.svg","A brown dog representing player 2 board piece"),H=document.querySelectorAll(".player1-card"),O=document.querySelector(".player1-guess"),mt=document.querySelector(".pl1-guess-name"),pt=document.querySelector(".pl1-guess-weapon"),ht=document.querySelector(".pl1-guess-room"),Ft=tt("player2-piece","public/animal-elefante-elephant-svgrepo-com.svg","A grey elephant representing player 2 board piece"),C=document.querySelectorAll(".player2-card"),S=document.querySelector(".player2-guess"),bt=document.querySelector(".pl2-guess-name"),gt=document.querySelector(".pl2-guess-weapon"),Ct=document.querySelector(".pl2-guess-room"),U=document.getElementsByClassName("dice")[0];let ne,v;ne=0;v=0;const Y=document.querySelector(".current-timer"),a=document.querySelector(".commentator-text"),Ut=document.querySelectorAll(".highscore-btn"),Fe=document.querySelector(".highscore"),Ue=document.querySelector(".winners");let R=[{name:"Peter Pan",score:1,time:"00:07"},{name:"Wednesday",score:37,time:"27:39"},{name:"Mr. Bean",score:74,time:"93:23"}];const Lt=document.querySelector(".right-answer-name"),ft=document.querySelector(".right-answer-weapon"),yt=document.querySelector(".right-answer-room"),Et=document.querySelector(".game-over-draws"),je=document.querySelector(".game-over-time");let Ve=[...x].splice(h(),1),Xe=[...B].splice(h(),1),Ze=[...w].splice(k(),1),W=[Ve,Xe,Ze],d=[],p=[],u=[],_e=x.concat(B,w);const wt=e=>{const t=[...e];let n=e.length,s;for(;n!==0;)s=Math.floor(Math.random()*n),n-=1,[t[n],t[s]]=[t[s],t[n]];return t};let X=wt(_e);const kt=()=>{for(;u.length<3&&X.length;)d.push(X.shift()),p.push(X.shift()),u.push(X.shift())};kt();const ze=(e,t)=>{const n=e;n!==null&&n instanceof HTMLElement&&(n.innerHTML=t)},jt=()=>{const[e,t,n]=d;ze(e,d[0]),ze(t,d[1]),ze(n,d[2])},zt=()=>{v+=1,v>=60&&(ne+=1,v=0),Y!==null&&(Y.innerHTML=`${ne.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`)},Jt=()=>{ne=0,v=0,Y!==null&&(Y.innerHTML=`${ne.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`)};let et;const At=()=>{F[k()].appendChild(Yt),a!==null&&(a.innerHTML="The dog is on the loose!")},qt=()=>{F[k()].appendChild(Ft),a!==null&&(a.innerHTML="The Elephant is sprinting!")},Qt=()=>{U.disabled=!0},Gt=()=>{U.disabled=!1},nt=()=>{U.innerHTML="Dice"},Vt=()=>{if(K!==null){if(K.value===""){Ye==null||Ye.classList.remove("hidden");return}D==null||D.classList.add("hidden"),b==null||b.classList.add("hidden"),F[k()].appendChild(Qe),At(),qt()}},Pt=()=>{I!==null&&(I.disabled=!0),$!==null&&($.disabled=!0)},Xt=()=>{nt(),Gt(),jt(),Pt();const e=t=>{t.classList.remove("marked-option")};vt.forEach(e),Ht.forEach(e),xt.forEach(e),ut!==null&&K!==null&&(ut.innerHTML=K.value,Vt(),Jt(),et=setInterval(zt,1e3),a!==null&&(a.innerHTML="Roll the dice!"))},Zt=()=>{I!==null&&(I.disabled=!1),$!==null&&($.disabled=!1)},Rt=()=>{F.forEach(e=>{e.setAttribute("disabled","true")})},_t=()=>{F.forEach(e=>{e.removeAttribute("disabled")})},en=e=>{const t=e.currentTarget;t!==null&&a!==null&&t instanceof HTMLElement?t.contains(Qe)||(t.appendChild(Qe),Rt(),Zt(),a.innerHTML="Cowards guess. Idiots accuse. Which one are you?"):a!==null&&(a.innerHTML="Can't choose the same room! Choose another room.")},tn=e=>{e.addEventListener("click",en)},Wt=(e,t)=>{const n=e;n.innerHTML=u[t]};let se;se=0;const nn=()=>{se+=1},sn=e=>{e.classList.add("dice-rolling")},on=e=>{e.classList.remove("dice-rolling")},cn=e=>{const t=e.target,n=h()+1,s=()=>{on(t)};n>3?(_t(),Qt(),a!==null&&(a.innerHTML="Move to a room.")):(Rt(),a!==null&&(a.innerHTML="Roll the dice again.")),sn(t),setTimeout(s,500),nn(),t!==null&&(t.innerHTML=String(n))},an=()=>{b!==null&&T!==null&&(b.classList.remove("hidden"),T.classList.remove("hidden"))},ln=()=>{N==null||N.classList.remove("hidden"),b==null||b.classList.remove("hidden")},st=()=>{de.name===!0&&de.weapon===!0&&de.room===!0&&Z!==null&&(Z.disabled=!1)},ot=()=>{ue.name===!0&&ue.weapon===!0&&ue.room===!0&&_!==null&&(_.disabled=!1)},j=(e,t,n)=>{const s=c=>{const l=c.target;l.classList.add("marked-option"),de[t]=!0,ue[t]=!0,n();const r=M=>{M!==l&&M.classList.remove("marked-option")};e.forEach(r)},o=c=>{c.addEventListener("click",s)};e.forEach(o)},Dt=()=>{if(Ue!==null){Ue.innerHTML="";for(let e=0;e<R.length;e++){const t=R[e];Ue.innerHTML+=`
        <tr>
          <td>${e+1}</td>
          <td>${t.name}</td>
          <td>${t.score}</td>
          <td>${t.time} min</td>
        </tr>
      `}}},rn=(e,t,n)=>{const s={name:e,score:t,time:n};R.push(s),R.sort((o,c)=>{if(o.score!==c.score)return o.score-c.score;const l=Date.parse(o.time),r=Date.parse(c.time);return(l-r)/1e3}),R=R.slice(0,3),Dt()},dn=()=>{var A,q,G;clearInterval(et);const e=String((A=document.querySelector(".accuse-name-btn.marked-option"))==null?void 0:A.innerHTML),t=String((q=document.querySelector(".accuse-weapon-btn.marked-option"))==null?void 0:q.innerHTML),n=String((G=document.querySelector(".accuse-room-btn.marked-option"))==null?void 0:G.innerHTML),s=e===W[0][0],o=t===W[1][0],c=n===W[2][0];if(s&&o&&c&&(te!==null&&Et!==null&&je!==null&&a!==null&&Y!==null&&K!==null))T==null||T.classList.add("hidden"),te.classList.remove("hidden"),Et.innerHTML=String(se),clearInterval(et),je.innerHTML=Y.innerHTML,rn(K.value,se,je.innerHTML),a.innerHTML="You are the next Sherlock Holmes.";else if(Lt!==null&&ft!==null&&yt!==null&&ee!==null&&a!==null){const[[z],[J],[i]]=W;Lt.innerHTML=z,ft.innerHTML=J,yt.innerHTML=i,T==null||T.classList.add("hidden"),ee.classList.remove("hidden"),a.innerHTML="You thought you were clever, huh?"}},Nt=()=>{for(let e=0;e<d.length;e++)H[e].innerHTML="Cluedo",H[e].classList.remove("guess-match","player1-match","player2-match")},Ot=()=>{for(let e=0;e<p.length;e++)C[e].innerHTML="Cluedo",C[e].classList.remove("guess-match","player1-match","player2-match")},ct=()=>{for(let e=0;e<u.length;e++)E[e].classList.remove("guess-match","player1-match","player2-match")},y=(e,t,n,s)=>{const o=e.indexOf(n);if(o>-1){if(s==="check")return!0;t[o].classList.add("player1-match")}return!1},un=()=>{O!==null&&a!==null&&(O.classList.remove("hidden"),a.innerHTML="The Dog is making a guess")},mn=()=>{O==null||O.classList.add("hidden"),Ot(),ct()},P=(e,t)=>{t>-1&&e[t].classList.add("player2-match")},pn=()=>{S!==null&&a!==null&&(S==null||S.classList.remove("hidden"),a.innerHTML="The Elephant is making a guess")},hn=()=>{S==null||S.classList.add("hidden"),Nt(),ct(),Gt(),nt(),a!==null&&(a.innerHTML="Guess you were too scared to accuse... Coward! Now, roll the dice.")},Bt=()=>{Nt(),Ot();const e=h()+1;if(U.innerHTML=String(e),e>3&&mt!==null&&pt!==null&&ht!==null&&O!==null&&a!==null){At();const t=x[h()],n=B[h()],s=w[k()];mt.innerHTML=t,pt.innerHTML=n,ht.innerHTML=s;const o=()=>{y(p,C,t),y(p,C,n),y(p,C,s)},c=()=>{y(u,E,t),y(u,E,n),y(u,E,s)};y(p,C,t,"check")||y(p,C,n,"check")||y(p,C,s,"check")?setTimeout(o,1e3*6):setTimeout(c,1e3*6),setTimeout(un,1e3*4),setTimeout(mn,1e3*10)}else Bt()},It=()=>{const e=h()+1;if(U.innerHTML=String(e),e>3&&bt!==null&&gt!==null&&Ct!==null&&a!==null){qt();const t=x[h()],n=B[h()],s=w[k()];bt.innerHTML=t,gt.innerHTML=n,Ct.innerHTML=s;const o=()=>{P(H,d.indexOf(t)),P(H,d.indexOf(n)),P(H,d.indexOf(s))},c=()=>{P(E,u.indexOf(t)),P(E,u.indexOf(n)),P(E,u.indexOf(s))};u.indexOf(t)||u.indexOf(n)||u.indexOf(s)?setTimeout(c,1e3*6):setTimeout(o,1e3*6),setTimeout(pn,1e3*4),setTimeout(hn,1e3*10)}else It()},Je=e=>{e.classList.remove("marked-option")},bn=()=>{b==null||b.classList.add("hidden");const e=document.querySelectorAll(".guess-name-btn.marked-option")[0].innerHTML,t=document.querySelectorAll(".guess-weapon-btn.marked-option")[0].innerHTML,n=document.querySelectorAll(".guess-room-btn.marked-option")[0].innerHTML,s=[e,t,n],o=(l,r)=>{s.includes(l)&&(H[r].innerHTML=d[r],H[r].classList.add("guess-match"))},c=(l,r)=>{s.includes(l)&&(C[r].innerHTML=p[r],C[r].classList.add("guess-match"))};d.includes(s[0])||d.includes(s[1])||d.includes(s[2])?d.forEach(o):p.forEach(c),Tt.forEach(Je),Mt.forEach(Je),St.forEach(Je),Pt(),N==null||N.classList.add("hidden"),ct(),nt(),setTimeout(Bt,1e3*3),setTimeout(It,1e3*12)},gn=()=>{Fe==null||Fe.classList.remove("hidden"),ee==null||ee.classList.add("hidden"),te==null||te.classList.add("hidden")},Cn=e=>{e.addEventListener("click",gn)},Ln=e=>{const t=e.target;t!==null&&t.parentElement!==null&&(t.parentElement.classList.add("hidden"),se=0,D==null||D.classList.remove("hidden")),Ve=[...x].splice(h(),1),Xe=[...B].splice(h(),1),Ze=[...w].splice(k(),1),W=[Ve,Xe,Ze],_e=x.concat(B,w),d=[],p=[],u=[],X=wt(_e),kt(),E.forEach(Wt)};it!==null&&it.addEventListener("click",Xt);const fn=e=>{e.addEventListener("click",Ln)};Kt.forEach(fn);U.addEventListener("click",cn);I!==null&&I.addEventListener("click",ln);F.forEach(tn);E.forEach(Wt);j(Tt,"name",st);j(Mt,"weapon",st);j(St,"room",st);j(vt,"name",ot);j(Ht,"weapon",ot);j(xt,"room",ot);$!==null&&$.addEventListener("click",an);Z==null||Z.addEventListener("click",bn);_==null||_.addEventListener("click",dn);Dt();Ut.forEach(Cn);console.table(u);console.log("player YOU hand");console.table(d);console.log("player1 hand");console.table(p);console.log("player2 hand");console.table(W);console.log("accused deck");
